<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Giotto Object • Giotto Suite</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Giotto Object">
<meta property="og:description" content="Giotto">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-BCXT5392QC"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BCXT5392QC');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Giotto Suite</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0.997</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Start
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting_started.html#installation">Installation</a>
    </li>
    <li>
      <a href="../articles/getting_started.html#getting-started">Getting Started</a>
    </li>
    <li>
      <a href="../articles/getting_started.html#analyses">Analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Datasets
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/datasets_overview.html#array-based-datasets-1">Array based</a>
    </li>
    <li>
      <a href="../articles/datasets_overview.html#single-cell-1">Single-cell</a>
    </li>
    <li>
      <a href="../articles/datasets_overview.html#subcellular-datasets-1">Subcellular</a>
    </li>
    <li>
      <a href="../articles/datasets_overview.html#protein-multiplexing-1">Protein multiplexing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/contribute.html">Contribute</a>
</li>
<li>
  <a href="../articles/giotto_news.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    FAQ
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/faqs.html">Frequently Asked Questions</a>
    </li>
    <li>
      <a href="../articles/github_issues.html">GitHub Issues Guidelines</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Try Giotto
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Docker</li>
    <li class="dropdown-header">Binder</li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/RubD/Giotto/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The Giotto Object</h1>
            
            <h4 data-toc-skip class="date">2022-09-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/RubD/Giotto/blob/HEAD/vignettes/getting_started_gobject.Rmd" class="external-link"><code>vignettes/getting_started_gobject.Rmd</code></a></small>
      <div class="hidden name"><code>getting_started_gobject.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="how-to-create-a-giotto-object">How to create a Giotto Object<a class="anchor" aria-label="anchor" href="#how-to-create-a-giotto-object"></a>
</h2>
<p>In this tutorial, the methodology and syntax to create a
<strong>giottoObject</strong> is shown and osmFISH data is used
throughout the tutorial.</p>
<div class="section level3">
<h3 id="import-giotto-and-download-the-data">Import Giotto and Download the Data<a class="anchor" aria-label="anchor" href="#import-giotto-and-download-the-data"></a>
</h3>
<p>To download this data, please ensure that <a href="https://www.gnu.org/software/wget/?" class="external-link">wget</a> is installed
locally.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rubd.github.io/Giotto/" class="external-link">Giotto</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">genv_exists</span> <span class="op">=</span> <span class="fu"><a href="../reference/checkGiottoEnvironment.html">checkGiottoEnvironment</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="va">genv_exists</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># The following command need only be run once to install the Giotto environment.</span></span>
<span>  <span class="fu"><a href="../reference/installGiottoEnvironment.html">installGiottoEnvironment</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Specify path from which data may be retrieved/stored</span></span>
<span><span class="va">data_directory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">'/gobject_data/'</span><span class="op">)</span></span>
<span><span class="co"># alternatively, "/path/to/where/the/data/lives/"</span></span>
<span></span>
<span><span class="co"># Specify path to which results may be saved</span></span>
<span><span class="va">results_directory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">'/gobject_results/'</span><span class="op">)</span> </span>
<span><span class="co"># alternatively, "/path/to/store/the/results/"</span></span>
<span></span>
<span><span class="co"># Download osmFISH dataset to data_directory</span></span>
<span><span class="fu"><a href="../reference/getSpatialDataset.html">getSpatialDataset</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">'osmfish_SS_cortex'</span>, directory <span class="op">=</span> <span class="va">data_directory</span>, method <span class="op">=</span> <span class="st">'wget'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="minimum-requirements-for-a-giotto-object">Minimum requirements for a Giotto Object<a class="anchor" aria-label="anchor" href="#minimum-requirements-for-a-giotto-object"></a>
</h3>
<ul>
<li>Expression matrix</li>
<li>Spatial locations (<em>unnecessary for scRNAseq analysis</em>)</li>
</ul>
<p>Here, creating a <strong>giottoObject</strong> with the minimum
requirements is shown in two examples. Data formatting guidelines are
shown below this code block.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example 1.</span></span>
<span><span class="co"># Create a Giotto object using data directly from file paths </span></span>
<span><span class="va">osm_exprs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">data_directory</span>, <span class="st">"osmFISH_prep_expression.txt"</span><span class="op">)</span></span>
<span><span class="va">osm_locs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">data_directory</span>, <span class="st">"osmFISH_prep_cell_coordinates.txt"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">minimum_gobject1</span> <span class="op">=</span> <span class="fu"><a href="../reference/createGiottoObject.html">createGiottoObject</a></span><span class="op">(</span>expression <span class="op">=</span> <span class="va">osm_exprs</span>,</span>
<span>                                      spatial_locs <span class="op">=</span> <span class="va">osm_locs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example 2.</span></span>
<span><span class="co"># Create a Giotto object using objects already loaded into workspace</span></span>
<span><span class="va">expression_matrix</span> <span class="op">=</span> <span class="fu"><a href="../reference/readExprMatrix.html">readExprMatrix</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">osm_exprs</span><span class="op">)</span> <span class="co"># fast method to read expression matrix</span></span>
<span><span class="va">cell_locations</span> <span class="op">=</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">osm_locs</span><span class="op">)</span></span>
<span></span>
<span><span class="va">minimum_gobject2</span> <span class="op">=</span> <span class="fu"><a href="../reference/createGiottoObject.html">createGiottoObject</a></span><span class="op">(</span>expression <span class="op">=</span> <span class="va">expression_matrix</span>,</span>
<span>                                      spatial_locs <span class="op">=</span> <span class="va">cell_locations</span><span class="op">)</span></span></code></pre></div>
<details><summary>
Expression file formatting
</summary><p><br> Expression count matrices accepted by Giotto should have columns
correlating to individual cells (<strong>cell IDs</strong>) and rows to
individual features (<strong>feature IDs</strong>).<br><strong>data.table</strong> objects and text-based files ie:
(<strong>.csv, .tsv, .txt</strong>) to be read in should have column 1
be <strong>feature IDs</strong>.</p>
<table class="table">
<thead><tr class="header">
<th></th>
<th align="left">feat_ID</th>
<th>Cell_1</th>
<th>Cell_2</th>
<th>Cell_3</th>
<th>…</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td align="left">Gene1</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td align="left">Gene2</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>3</td>
<td align="left">Gene3</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td align="left">…</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><br><strong>matrix</strong> and <strong>DelayedMatrix</strong>
objects should have <strong>feature IDs</strong> already incorporated as
the rownames.</p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th>Cell_1</th>
<th>Cell_2</th>
<th>Cell_3</th>
<th>…</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Gene1</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">Gene2</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td align="left">Gene3</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">…</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></details><details><summary>
Locations file formatting
</summary><p><br> Numerical columns will be interpreted in order of x, y, and
(optionally) z coordinate. The first non-numerical column will be taken
as <strong>cell IDs</strong></p>
<table class="table">
<thead><tr class="header">
<th></th>
<th>sdimx</th>
<th>sdimy</th>
<th>sdimz</th>
<th>cell_ID</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>3</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></details><p><strong>*Note:</strong> multiple expression files during can be given
at once during Giotto object creation by using a named list.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Arbitrary modifications</span></span>
<span><span class="va">scaled_matrix</span> <span class="op">=</span> <span class="va">expression_matrix</span> <span class="op">*</span> <span class="fl">1.2</span></span>
<span><span class="va">custom_matrix</span> <span class="op">=</span> <span class="va">expression_matrix</span> <span class="op">*</span> <span class="fl">0.5</span></span>
<span></span>
<span><span class="co"># Provide multiple expression matrices at once to the Giotto Object</span></span>
<span><span class="co"># If these matrices are stored in files rather than in the workspace,</span></span>
<span><span class="co"># file paths may be provided instead of variables</span></span>
<span><span class="va">multi_expr_gobject</span> <span class="op">=</span> <span class="fu"><a href="../reference/createGiottoObject.html">createGiottoObject</a></span><span class="op">(</span>expression <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>raw <span class="op">=</span> <span class="va">expression_matrix</span>,</span>
<span>                                                          scaled <span class="op">=</span> <span class="va">scaled_matrix</span>,</span>
<span>                                                          custom <span class="op">=</span> <span class="va">custom_matrix</span><span class="op">)</span>,</span>
<span>                                        spatial_locs <span class="op">=</span> <span class="va">cell_locations</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="customizing-the-giotto-object">Customizing the Giotto Object<a class="anchor" aria-label="anchor" href="#customizing-the-giotto-object"></a>
</h3>
<p>By providing values to other <strong>createGiottoObject</strong>
parameters, it is possible to add:</p>
<ul>
<li><p><strong>Cell</strong> or <strong>feature (gene)
metadata</strong>: see <a href="../reference/addCellMetadata.html"><strong>addCellMetadata</strong></a>
and <a href="../reference/addFeatMetadata.html"><strong>addFeatMetadata</strong></a></p></li>
<li><p><strong>Spatial networks</strong> or <strong>grids</strong>: see
<a href="./Visualizations.html">Visualizations</a></p></li>
<li><p><strong>Dimension reduction</strong>: see <a href="./dimension_reduction.html">Clustering</a></p></li>
<li><p><strong>Images</strong>: see <a href="./getting_started_images.html">Imaging</a></p></li>
<li><p><strong>giottoInstructions</strong>: see <a href="../docs/reference/createGiottoInstructions.html"><strong>createGiottoInstructions</strong></a>
and below</p></li>
</ul>
<p>Providing <strong>giottoInstructions</strong> allows the
specification of:</p>
<ul>
<li>An alternative python path if using the Giotto Environment (default)
is not desired<br>
</li>
<li>A directory to which resulting plots will save</li>
<li>Plot formatting</li>
</ul>
<p>There are four functions to utilize when setting instructions:</p>
<ul>
<li>
<strong>createGiottoInstructions</strong>: creates instructions that
are provided to <strong>createGiottoObject</strong>
</li>
<li>
<strong>showGiottoInstructions</strong>: displays the instructions
of a Giotto object<br>
</li>
<li>
<strong>changeGiottoInstructions</strong>: replaces 1 or more of the
instruction parameters (e.g. plotting format)<br>
</li>
<li>
<strong>replaceGiottoInstructions</strong>: replaces all
instructions with new instructions (e.g after subsetting)</li>
</ul>
<p>Here is an example of a more customized Giotto object.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Specify data with file paths </span></span>
<span><span class="va">osm_exprs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">data_directory</span>, <span class="st">"osmFISH_prep_expression.txt"</span><span class="op">)</span></span>
<span><span class="va">osm_locs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">data_directory</span>, <span class="st">"osmFISH_prep_cell_coordinates.txt"</span><span class="op">)</span></span>
<span><span class="va">meta_path</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">data_directory</span>, <span class="st">"osmFISH_prep_cell_metadata.txt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create instructions</span></span>
<span></span>
<span><span class="co"># Optional: Specify a path to a Python executable within a conda or miniconda </span></span>
<span><span class="co"># environment. If set to NULL (default), the Python executable within the previously</span></span>
<span><span class="co"># installed Giotto environment will be used.</span></span>
<span><span class="va">my_python_path</span> <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># alternatively, "/local/python/path/python" if desired.</span></span>
<span></span>
<span><span class="va">instrs</span> <span class="op">=</span> <span class="fu"><a href="../reference/createGiottoInstructions.html">createGiottoInstructions</a></span><span class="op">(</span>python_path <span class="op">=</span> <span class="va">my_python_path</span>,</span>
<span>                                  save_dir <span class="op">=</span> <span class="va">results_directory</span>,</span>
<span>                                  plot_format <span class="op">=</span> <span class="st">'png'</span>,</span>
<span>                                  dpi <span class="op">=</span> <span class="fl">200</span>,</span>
<span>                                  height <span class="op">=</span> <span class="fl">9</span>,</span>
<span>                                  width <span class="op">=</span> <span class="fl">9</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create Giotto object</span></span>
<span><span class="va">custom_gobject</span> <span class="op">=</span> <span class="fu"><a href="../reference/createGiottoObject.html">createGiottoObject</a></span><span class="op">(</span>expression <span class="op">=</span> <span class="va">osm_exprs</span>,</span>
<span>                                    spatial_locs <span class="op">=</span> <span class="va">osm_locs</span>,                                      </span>
<span>                                    instructions <span class="op">=</span> <span class="va">instrs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add field annotations as cell metadata</span></span>
<span><span class="va">metadata</span> <span class="op">=</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">meta_path</span><span class="op">)</span></span>
<span><span class="va">custom_gobject</span> <span class="op">=</span> <span class="fu"><a href="../reference/addCellMetadata.html">addCellMetadata</a></span><span class="op">(</span><span class="va">custom_gobject</span>, new_metadata <span class="op">=</span> <span class="va">metadata</span>,</span>
<span>                                 by_column <span class="op">=</span> <span class="cn">T</span>, column_cell_ID <span class="op">=</span> <span class="st">'CellID'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check which Giotto instructions are associated with the Giotto object</span></span>
<span><span class="fu"><a href="../reference/showGiottoInstructions.html">showGiottoInstructions</a></span><span class="op">(</span><span class="va">custom_gobject</span><span class="op">)</span></span></code></pre></div>
<p>Note that although parameters <em>show_plot</em>,
<em>return_plot</em>, and <em>save_plot</em> were not specified within
the call to <strong>createGiottoInstructions</strong>, default values
were provided to these instruction parameters. All instruction
parameters have default values, such that
<strong>createGiottoInstructions</strong> may be called with some or no
arguments yet all instruction parameters will have a value after its
execution.</p>
<p>Alternatively, a named list may also be provided to the
<em>instructions</em> argument of <strong>createGiottoObject</strong>.
However, ensure that all arguments to <a href="../docs/reference/createGiottoInstructions.html"><strong>createGiottoInstructions</strong></a>
are defined when providing instructions as a named list, since default
values are only applied to instructions when made with
<strong>createGiottoInstructions</strong>. <em>Note that python_path
must be specified when providing instructions as a named list, and may
not be provided as NULL.</em></p>
<p>The <strong>giottoInstructions</strong> may be changed, or completely
replaced:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Change a previously set parameter, e.g. change dpi = 200 to dpi = 300</span></span>
<span><span class="va">custom_gobject</span> <span class="op">=</span> <span class="fu"><a href="../reference/changeGiottoInstructions.html">changeGiottoInstructions</a></span><span class="op">(</span><span class="va">custom_gobject</span>, </span>
<span>                                          param <span class="op">=</span> <span class="st">'dpi'</span>, </span>
<span>                                          new_value <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Observe that the instructions have changed</span></span>
<span><span class="fu"><a href="../reference/showGiottoInstructions.html">showGiottoInstructions</a></span><span class="op">(</span><span class="va">custom_gobject</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create new instructions using a named list</span></span>
<span><span class="va">sub_results_directory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">results_directory</span>, <span class="st">'specific_results/'</span><span class="op">)</span></span>
<span><span class="va">my_python_path</span> <span class="op">=</span> <span class="va">custom_gobject</span><span class="op">@</span><span class="va">instructions</span><span class="op">$</span><span class="va">python_path</span></span>
<span><span class="va">new_instrs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>python_path <span class="op">=</span> <span class="va">my_python_path</span>,</span>
<span>                  show_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                  return_plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                  save_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                  save_dir <span class="op">=</span> <span class="va">sub_results_directory</span>,</span>
<span>                  plot_format <span class="op">=</span> <span class="st">'jpg'</span>,</span>
<span>                  dpi <span class="op">=</span> <span class="fl">250</span>,</span>
<span>                  units <span class="op">=</span> <span class="st">'in'</span>,</span>
<span>                  height <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                  width <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                  is_docker <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Change all instructions</span></span>
<span><span class="va">custom_gobject</span> <span class="op">=</span> <span class="fu"><a href="../reference/replaceGiottoInstructions.html">replaceGiottoInstructions</a></span><span class="op">(</span><span class="va">custom_gobject</span>,</span>
<span>                                           instructions <span class="op">=</span> <span class="va">new_instrs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Observe that the instructions have changed</span></span>
<span><span class="fu"><a href="../reference/showGiottoInstructions.html">showGiottoInstructions</a></span><span class="op">(</span><span class="va">custom_gobject</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="plotting-data-from-a-giotto-object">Plotting Data from a Giotto Object<a class="anchor" aria-label="anchor" href="#plotting-data-from-a-giotto-object"></a>
</h3>
<p>Each plotting function in Giotto has three important binary
parameters:</p>
<ul>
<li>
<strong>show_plot</strong>: print the plot to the console, default
is TRUE<br>
</li>
<li>
<strong>return_plot</strong>: return the plot as an object, default
is TRUE<br>
</li>
<li>
<strong>save_plot</strong>: automatically save the plot, default is
FALSE</li>
</ul>
<p>These parameters are stored within a <strong>giottoObject</strong>
that was provided instructions from
<strong>createGiottoInstructions</strong> and are provided to plotting
functions accordingly. To change these parameters from the default
values, the instructions may be changed or replaced, or these parameters
may be <em>manually overwritten</em> within plotting functions.</p>
<p>See <a href="../docs/reference/showSaveParameters.html">showSaveParameters</a>
and the <a href="./getting_started_saving.html">Saving Options</a>
tutorial for alternative methods to save plots.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot according to Giotto Instructions (default)</span></span>
<span><span class="fu"><a href="../reference/spatPlot.html">spatPlot</a></span><span class="op">(</span><span class="va">custom_gobject</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot clusters, create, and save to a new subdirectory, all while overwriting formatting</span></span>
<span><span class="fu"><a href="../reference/spatPlot.html">spatPlot</a></span><span class="op">(</span><span class="va">custom_gobject</span>, </span>
<span>         cell_color <span class="op">=</span> <span class="st">'ClusterName'</span>, </span>
<span>         save_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         return_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         show_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         save_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>save_folder <span class="op">=</span> <span class="st">'plots/'</span>, <span class="co"># Create subdirectory</span></span>
<span>                           save_name <span class="op">=</span> <span class="st">'cell_clusters'</span>, </span>
<span>                           save_format <span class="op">=</span> <span class="st">'png'</span>, </span>
<span>                           units <span class="op">=</span> <span class="st">'in'</span>,</span>
<span>                           base_height <span class="op">=</span> <span class="fl">9</span>,</span>
<span>                           base_width <span class="op">=</span> <span class="fl">9</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="../inst/images/getting_started_figs/getting_started_gobject/cell_clusters.png"></p>
</div>
</div>
<div class="section level2">
<h2 id="giotto-object-structure">Giotto Object Structure<a class="anchor" aria-label="anchor" href="#giotto-object-structure"></a>
</h2>
<p><br> Usage of the Giotto package revolves around the
<strong>giottoObject</strong>. This is an S4 object class that holds
spatial expression data and facilitates its manipulation and
visualization with the Giotto package’s functions. Additional metadata
and other outputs generated from certain Giotto functions, which may
used in downstream analyses, are also be stored within the
<strong>giottoObject</strong>. Its self-contained nature renders a
convenient representation of the entire spatial experiment and is why
most Giotto functions take a given <strong>giottoObject</strong> as
input and return a <strong>giottoObject</strong> as output.</p>
<p>Data is organized within the <strong>giottoObject</strong> in defined
<strong>slots</strong> as described in the diagram below.<br><br><img src="../inst/images/getting_started_figs/getting_started_gobject/Giotto_suite_object-01.svg" style="width:100.0%"><br><img src="../inst/images/getting_started_figs/getting_started_gobject/Giotto_suite_object-02.svg" style="width:100.0%"><br><img src="../inst/images/getting_started_figs/getting_started_gobject/Giotto_suite_object-03.svg" style="width:100.0%"></p>
</div>
<div class="section level2">
<h2 id="nested-organization-of-the-giotto-object">Nested Organization of the Giotto Object<a class="anchor" aria-label="anchor" href="#nested-organization-of-the-giotto-object"></a>
</h2>
<p>Spatial data has tiered organization and thus so too does Giotto.
Tissue regions can be divided down into individual cells and then
further into organelles. The data structure of Giotto mirrors biological
structure by nesting data within slots related to spatial data by
<strong>spat_unit</strong> (spatial unit). Additonally, to facilitate
the integration of multiple -omic data, slots related to feature data
will be nested with <strong>feat_type</strong> (feature type).
<br><br>
Included below is a description of this nesting and also, for advanced
users and contributors/developers, accessor functions for the slots are
also provided. <br></p>
<div class="section level4">
<h4 id="slots-and-subnesting">Slots and Subnesting<a class="anchor" aria-label="anchor" href="#slots-and-subnesting"></a>
</h4>
<table class="table">
<thead><tr class="header">
<th align="left">Slot</th>
<th align="left">Nested</th>
<th align="left">Example</th>
<th align="left">Accessors</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong><span class="citation">@expression</span></strong></td>
<td align="left">
<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #E88EBB;">feat_type</span>-<span style="color: #801C34;">name</span>
</td>
<td align="left">
<span style="color: #4C94A0;">cell</span>-<span style="color: #E88EBB;">rna</span>-<span style="color: #801C34;">raw</span>
</td>
<td align="left">get_expression_values()<br>set_expression_values()<br>showGiottoExpression()</td>
</tr>
<tr class="even">
<td align="left"><strong><span class="citation">@cell_metadata</span></strong></td>
<td align="left">
<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #E88EBB;">feat_type</span>
</td>
<td align="left">
<span style="color: #4C94A0;">cell</span>-<span style="color: #E88EBB;">rna</span>
</td>
<td align="left">pDataDT()<br>addCellMetadata()</td>
</tr>
<tr class="odd">
<td align="left"><strong><span class="citation">@feat_metadata</span></strong></td>
<td align="left">
<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #E88EBB;">feat_type</span>
</td>
<td align="left">
<span style="color: #4C94A0;">cell</span>-<span style="color: #E88EBB;">rna</span>
</td>
<td align="left">fDataDT()<br>addFeatMetadata()</td>
</tr>
<tr class="even">
<td align="left"><strong><span class="citation">@spatial_grid</span></strong></td>
<td align="left">
<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #801C34;">name</span>
</td>
<td align="left">
<span style="color: #4C94A0;">grid</span>-<span style="color: #801C34;">grid</span>
</td>
<td align="left">get_spatialGrid()<br>set_spatialGrid()<br>showGiottoSpatGrids()</td>
</tr>
<tr class="odd">
<td align="left"><strong><span class="citation">@nn_network</span></strong></td>
<td align="left">
<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #F6851F;">method</span>-<span style="color: #801C34;">name</span>
</td>
<td align="left">
<span style="color: #4C94A0;">cell</span>-<span style="color: #F6851F;">sNN</span>-<span style="color: #801C34;">sNN_results1</span>
</td>
<td align="left">get_NearestNetwork()<br>set_NearestNetwork()</td>
</tr>
<tr class="even">
<td align="left"><strong><span class="citation">@dimension_reduction</span></strong></td>
<td align="left">
<span style="color: #6C04D0;">approach</span>-<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #E88EBB;">feat_type</span>-<span style="color: #F6851F;">method</span>-<span style="color: #801C34;">name</span>
</td>
<td align="left">
<span style="color: #6C04D0;">cells</span>-<span style="color: #4C94A0;">cell</span>-<span style="color: #E88EBB;">rna</span>-<span style="color: #F6851F;">pca</span>-<span style="color: #801C34;">pca</span>
</td>
<td align="left">get_dimReduction()<br>set_dimReduction()<br>showGiottoDimRed()</td>
</tr>
<tr class="odd">
<td align="left"><strong><span class="citation">@spatial_enrichment</span></strong></td>
<td align="left">
<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #E88EBB;">feat_type</span>-<span style="color: #801C34;">name</span>
</td>
<td align="left">
<span style="color: #4C94A0;">cell</span>-<span style="color: #E88EBB;">rna</span>-<span style="color: #801C34;">results1</span>
</td>
<td align="left">get_spatial_enrichment()<br>set_spatial_enrichment()<br>showGiottoSpatEnrichments()</td>
</tr>
<tr class="even">
<td align="left"><strong><span class="citation">@spatial_info</span></strong></td>
<td align="left"><span style="color: #4C94A0;">spat_unit</span></td>
<td align="left"><span style="color: #4C94A0;">cell</span></td>
<td align="left">get_polygon_info()<br>set_polygon_info()<br>showGiottoSpatialInfo()</td>
</tr>
<tr class="odd">
<td align="left"><strong><span class="citation">@spatial_locs</span></strong></td>
<td align="left">
<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #801C34;">name</span>
</td>
<td align="left">
<span style="color: #4C94A0;">cell</span>-<span style="color: #801C34;">raw</span>
</td>
<td align="left">get_spatial_locations()<br>set_spatial_locations()<br>showGiottoSpatLocs()</td>
</tr>
<tr class="even">
<td align="left"><strong><span class="citation">@spatial_network</span></strong></td>
<td align="left">
<span style="color: #4C94A0;">spat_unit</span>-<span style="color: #801C34;">name</span>
</td>
<td align="left">
<span style="color: #4C94A0;">cell</span>-<span style="color: #801C34;">Delaunay_network1</span>
</td>
<td align="left">get_spatialNetwork()<br>set_spatialNetwork()<br>showGiottoSpatNetworks()</td>
</tr>
<tr class="odd">
<td align="left"><strong><span class="citation">@feat_info</span></strong></td>
<td align="left"><span style="color: #E88EBB;">feat_type</span></td>
<td align="left"><span style="color: #E88EBB;">rna</span></td>
<td align="left">get_feature_info()<br>set_feature_info()<br>showGiottoFeatInfo()</td>
</tr>
<tr class="even">
<td align="left"><strong><span class="citation">@images</span></strong></td>
<td align="left"><span style="color: #801C34;">name</span></td>
<td align="left"><span style="color: #801C34;">image</span></td>
<td align="left">getGiottoImage()<br>addGiottoImage()<br>showGiottoImageNames()</td>
</tr>
<tr class="odd">
<td align="left"><strong><span class="citation">@largeImages</span></strong></td>
<td align="left"><span style="color: #801C34;">name</span></td>
<td align="left"><span style="color: #801C34;">image</span></td>
<td align="left">getGiottoImage()<br>addGiottoImage()<br>showGiottoImageNames()</td>
</tr>
<tr class="even">
<td align="left"><strong><span class="citation">@instructions</span></strong></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">replaceGiottoInstructions()<br>showGiottoInstructions()</td>
</tr>
<tr class="odd">
<td align="left"><strong><span class="citation">@OS_platform</span></strong></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><strong><span class="citation">@join_info</span></strong></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"><strong><span class="citation">@parameters</span></strong></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://www.drieslab.com/" class="external-link">Ruben Dries</a>, Jiaji George Chen, Natalie Del Rossi, Emma Kelley, Junxiang Xu, Guo-Cheng Yuan.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
